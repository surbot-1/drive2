<!DOCTYPE html>
<html lang=”en”>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
</head>
  
<body>

<script src="ubuntufont.js"></script>
<script src="ubuntubold.js"></script>
<script src="font1632.js"></script>
<script src="font2448.js"></script>
<script src="font3264.js"></script>
<script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
	
	
<script>
	
var elem = document.createElement('div');
elem.setAttribute("id", "divCanv");
elem.setAttribute("border", "solid black 1px");
// elem.style.cssText = 'position:absolute;width:100%;height:100%;opacity:0.3;z-index:100;background:#000';
document.body.appendChild(elem);

var canvs = document.createElement("canvas");
canvs.setAttribute("id", "canvas");
// canvs.setAttribute("width", "1080");
// canvs.setAttribute("height", "2176");  // 2400-112-112=2176
// canv.setAttribute("border", "solid black 1px");
document.getElementById("divCanv").appendChild(canvs); 
		
</script>
	
	
<script>
	
var element1 = document.createElement('div');
element1.setAttribute("id", "div1");
element1.setAttribute("border", "solid black 1px");
// elemment1.style.cssText = 'position:absolute;width:100%;height:100%;opacity:0.3;z-index:100;background:#000';
document.body.appendChild(element1);
	
var input1 = document.createElement("input");
input1.setAttribute("type", "text");
input1.setAttribute("id", "inField");
// input1.setAttribute("width", "1080");
// input1.setAttribute("id", "textField"));
// input1.setAttribute("height", "2176");  // 2400-112-112=2176
// input1.setAttribute("border", "solid black 1px");
document.getElementById("div1").appendChild(input1); 
	
var button1 = document.createElement("input");
button1.setAttribute("type", "submit");
button1.setAttribute("id", "button1");
button1.setAttribute("name", "Submit");
/* button1.innerHTML = "Submit";
button1.type = "submit";
button1.name = "Submit"; */
document.getElementById("div1").appendChild(button1); 

</script>
	
	
<script>
	
var msgBuf = new ArrayBuffer(512);
var msgView = new Uint8Array(msgBuf);
var msgArr = new Uint8Array ([0x41,0x42,0x43,0x44,0x45,0x0A,0x46,0x47]); 
var msgStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
var msgLn = 8; 
var msgIn; 
var msgSt = false;
var tmr1;  
var tmr2;

var driveBuf = new ArrayBuffer(128*1024*1024);
var driveView = new Uint8Array(driveBuf);
	
var dBuf = new ArrayBuffer(512);
var dView = new Uint8Array(dBuf);
	
var mbrsz_s=0x00000800; // (sectors) size of master boot record
var vbrsz_s=0x00000800; // (sectors) soze of partition boot record
var ftsz_s=0x00000800; // (sectors) fat table size 2048
var dtab_c=0x00000800; // (absolute) data begin at cluster no. 2048
var dtab_b=0x00C00000; // data begin 
var drsz_c=0x00000800; // (clusters) directory size 2048 
var clsz_s=0x00000008; // (sectors) cluster size 4KB=4096B
var clsz_b=0x00001000; // cluster size 4KB=4096B
var scsz_b=0x00000200; // (Bytes) sector size 512B 
var clno=0; // cluster no
var scno=0; // sector no 
	
var driveab=0x00000000; 
var mbrofdvab=driveab; 
var vbrofmbr=0;
var ftofvbr=0; 
var drofft=0; 
var dtofdr=0; 
var scofmbr=driveab; 
var clofvbr=0;
var scsz=512;
var clsz=8*scsz; 
var mbrsz=2048*scsz; 
var vbrsz=2048*scsz; 
var ftsz=2048*scsz; 
var drsz=2048*clsz; 
var dtsz=128*drsz; // or 1024*ftsz 
var mbrab=driveab; 
var scab=driveab;
var vbrab=driveab+mbrsz; 
var ftab=vbrab+vbrsz;
var clab= ftab+ftsz+ftsz-clsz-clsz; 
var drab= clab+clsz+clsz;
var dtab= drab+drsz;
	
var cw=24; var ch=32;
var sw=4; var sh=8;
var cxi=0; var cxf=1080;
var cx=0; var cy=0;
var oh=0x41-0x20;
alert('1');
</script>


<script>
/*
var driveab=0x00000000; 
var mbrofdvab=driveab; 
var vbrofmbr=0;
var ftofvbr=0; 
var drofft=0; 
var dtofdr=0; 
var scofmbr=driveab; 
var clofvbr=0;
var scsz=512;
var clsz=8*scsz; 
var mbrsz=2048*scsz; 
var vbrsz=2048*scsz; 
var ftsz=2048*scsz; 
var drsz=2048*clsz; 
var dtsz=128*drsz; // or 1024*ftsz 
var mbrab=driveab; 
var scab=driveab;
var vbrab=driveab+mbrsz; 
var ftab=vbrab+vbrsz;
var clab= ftab+ftsz+ftsz-clsz-clsz; 
var drab= clab+clsz+clsz;
var dtab= drab+drsz;
*/
</script>
	
	
<script>
	
var AscChar =[" ","!",'"',"#","$","%","&","'",
	      "(",")","*","+",",","-",".","/",
	      "0","1","2","3","4","5","6","7","8", "9",
	      ":",";","<","=",">","?","@",
	      "A","B","C","D","E","F","G","H","I","J","K","L","M",
	      "N","O","P","Q","R","S","T","U","V","W","X","Y","Z",
	      "[","\","]","^","_","`",
	      "a","b","c","d","e","f","g","h","i","j","k","l","m",
	      "n","o","p","q","r","s","t","u","v","w","x","y","z",
	      "{","|","}","~","DEL"];
	
</script>
	
	
<script>
// mbot = msgbot[i][0][j]; // 
// rbot = msgbot[i][1][j]; //

var msgbot =[[[""],
	     ["Have a nice day\nThank you"]],
	    [["Hi"],
	     ["Hi"]],
	    [["Hello"],
	     ["Hello"]],
	    [["How are you?"], // ?
	     ["I am fine. you?"]],
	    [["I am fine"],
	     ["Good"]],
	    [["Good"],
	     ["Thank you"]],
	    [["Thank you"],
	     ["Welcome"]],
	    [["What are you doing?"], // ? 
	     ["Enjoying the real world. How beautiful this is!"]],
	    [["Good morning"],
	     ["Good morning"]],
	    [["Good evening"],
	     ["Good evening"]],
	    [["What is your name?"], // ? 
	     ["My name is sAy"]],
	    [["Tell me yourself"],
	     ["I am sAy. I am a chatbot integrated with AI and ML."]],
	    [["What is your favorite color?"], // ? 
	     ["My favorite color is blue"]],
	    [["What is your age?"], // ? 
	     ["I am a software. I have been created when you installed the sAy app."]],
	    [[""],
	     [""]],
	    [[""],
	     [""]],
	    [[],[]],
	    [[],[]],
	    [[],[]],
	    [[],[]],
	    [[],[]],
	    [[],[]],
	    [[],[]],
	    [[],[]],
	    [[],[]],
	    [[],[]],
	    [[],[]],
	    [[],[]]];

</script>
	
	
<script>
	
	
function chatbot() { 
	var nbot = document.getElementById("inField").value; 
	var mbot;
	if (nbot.charCodeAt((nbot.length)-1)==(" ".charCodeAt(0))) { 
		mbot = nbot.slice(0, (nbot.length)-1); 
		// document.getElementById("div1").innerHTML += "<br>" + nbot +" "+ mbot; 
	} else {mbot=nbot;}
	var rbot; 
	var b=false;
	for(let i=0; i<16; i++) { 
		for(let j=0; j<1; j++) { 
			/*
			if (mbot.charCoadAt((mbot[i][0].length)-1)==63) {
				for(let k=0; k<(msgbot[i][0].length)-2; k++) { 
					var tmbot+=msgbot[i][0].charCoadAt(k); 
				} 
			} */
			
			if(mbot==msgbot[i][0]) { 
			rbot=msgbot[i][1]; b=true; break; 
			}
		} 
		if(b) {break;}
	} 
	if(!b) {rbot=msgbot[0][1];}
	document.getElementById("div1").innerHTML += "<br>" + rbot; 
}
	 	
</script>

		
<script>
	
       
         // writeChar();
	function writeChar() {
		var can = document.getElementById("canvas");
		var ctx = can.getContext('2d');
		var i=0; var j=0; var k=0;
		for (let n=0; n<msgLength; n++) {
			if (msgArr[k]==0x0A) {
				i=0; j++; k++;
				if (j>50){i=0; j=0}
			} else {
				cx=cw*i;
				cy=ch*j;
				oh=msgArr[k]-0x20;
				putChar();
				i++; k++;
				if (i>25){i=0; j++;}
				if (j>50){i=0; j=0;}
			}
		}
		if (i>25){i=0; j++;}
		if (j>50){i=0; j=0;}
		cx=cw*i; 
		cy=ch*j;
		ctx.fillStyle = "blue";
		ctx.fillRect(cx-24, cy, 2, 32);
	}
	
	
	alert('1');

         // putChar();
	function putChar() {
		var can = document.getElementById("canvas");
		var ctx = can.getContext('2d');
		var imgData = ctx.createImageData(cw, ch);
		var fontBuf = new ArrayBuffer(cw*4*ch);
		var fontView = new Uint8Array(fontBuf);
		var cb = new Uint8Array ([0x80,0x40,0x20,0x10,0x08,0x04,0x02,0x01]);
		var fb; var k=0;
		for (let i=0; i<(cw/8)*ch; i++) { 
			for (let j=0; j<8; j++) {
				fb = ubuntufont[(cw/8)*ch*oh+i] & cb[j]; 
				if (fb) {
					fontView[k+0] = 0x00;
					fontView[k+1] = 0x00;
					fontView[k+2] = 0xFF;
					fontView[k+3] = 0xFF;
					k+=4;
				} else {
					fontView[k+0] = 0xFF;
					fontView[k+1] = 0xFF;
					fontView[k+2] = 0xFF;
					fontView[k+3] = 0xFF;
					k+=4;
				}
			}
		}
			for (let i=0; i<cw*4*ch; i++) {
				imgData.data[i] = fontView[i];
			}
			ctx.putImageData(imgData,cx,cy);  
	}
	
</script>
	
	
<script>
        alert('2');
        
	
        // writeAsc();
	function writeAsc() {
		var can = document.getElementById("canvas");
		var ctx = can.getContext('2d');
		var i=0; var j=0; var k=0; 
		var l=128; var cd;
		for (let n=0; n<msgStr.length; n++) { 
			cd = msgStr.charCodeAt(k);
			if (cd==0x0A) {
				i=0; j++; k++;
				if (j>50){i=0; j=0}
			} else {
				cx=cw*i;
				cy=ch*j;
				oh=cd-0x20;
				putChar();
				i++; k++;
				if (i>25){i=0; j++;}
				if (j>50){i=0; j=0;}
			}
		}
		if (i>25){i=0; j++;}
		if (j>50){i=0; j=0;}
		cx=cw*i; 
		cy=ch*j;
		ctx.fillStyle = "blue";
		ctx.fillRect(cx-24, cy, 2, 32);
	} 
	
</script>

	
<script>
	
	
</script>
	
	
<script>
	
// driveFormatter();
function driveFormatter() {
 // Master Boot Record 1MB =2048 sectors
        driveView[0x0000010B+0x0B] = 0x00; // partition1 address LSB 0x00008000
	driveView[0x0000010B+0x0C] = 0x08; // partition1 address     8*(16*16*16) sector no.
	driveView[0x0000010B+0x0D] = 0x00; // partition1 address     8*16*16*16*512 Bytes
	driveView[0x0000010B+0x0E] = 0x00; // partition1 address MSB 16*16*16*16*16*16 = 0x00100000
	driveView[0x000001FE+0x00] = 0xAA; // signature
	driveView[0x000001FF+0x01] = 0x55; // 
// Partition Volume Boot Record 1MB =2048 sectors
	driveView[0x00100000+0x0B] = 0x00; // no of bytes per sector
	driveView[0x00100000+0x0C] = 0x02; // 2*256=512
	driveView[0x00100000+0x0D] = 0x08; // no of sectors per cluster 8
	driveView[0x00100000+0x0E] = 0x00; // no of reserve sectors
	driveView[0x00100000+0x0F] = 0x08; // 8*256=2024 sectors = 0x100000 Bytes offset of FAT1
	driveView[0x00100000+0x10] = 0x02; // no of FAT 2
	driveView[0x00100000+0x24] = 0x00; // no of sectors in each fat
	driveView[0x00100000+0x25] = 0x00; // 2024 sectors
	driveView[0x00100000+0x26] = 0x08; // 
	driveView[0x00100000+0x27] = 0x00; // 
	driveView[0x00200000+0x0C] = 0x02; // no of cluster before root directory 2
// FAT1 1MB =2048 sectors. each 4Bytes=32bits
	driveView[0x00200000+0x00] = 0xF0; // signature
	driveView[0x00200000+0x01] = 0xFF; // 
	driveView[0x00200000+0x02] = 0xFF; // 
	driveView[0x00200000+0x03] = 0x0F; // 
	driveView[0x00200000+0x04] = 0xFF; // fixed
	driveView[0x00200000+0x05] = 0xFF; // 
	driveView[0x00200000+0x06] = 0xFF; // 
	driveView[0x00200000+0x07] = 0x0F; // 
	driveView[0x00200000+0x04] = 0xFF; // end of cluster
	driveView[0x00200000+0x05] = 0xFF; // 
	driveView[0x00200000+0x06] = 0xFF; // 
	driveView[0x00200000+0x07] = 0x0F; // 
// FAT2 1MB =2048 sectors. each 4Bytes=32bits
	driveView[0x00300000+0x00] = 0xF0; // signature
	driveView[0x00300000+0x01] = 0xFF; // 
	driveView[0x00300000+0x02] = 0xFF; // 
	driveView[0x00300000+0x03] = 0x0F; // 
	driveView[0x00300000+0x04] = 0xFF; // fixed
	driveView[0x00300000+0x05] = 0xFF; // 
	driveView[0x00300000+0x06] = 0xFF; // 
	driveView[0x00300000+0x07] = 0x0F; // 
	driveView[0x00300000+0x04] = 0xFF; // end of cluster
	driveView[0x00300000+0x05] = 0xFF; // 
	driveView[0x00300000+0x06] = 0xFF; // 
	driveView[0x00300000+0x07] = 0x0F; //
// root directory 8MB =2048 clusters =8*2024 =16192 sectors. each 32Bytes
	driveView[0x00400000+0x00] = 0x41; // 8B name
	driveView[0x00400000+0x01] = 0x42; // 
	driveView[0x00400000+0x02] = 0x43; // 
	driveView[0x00400000+0x03] = 0x44; // 
	driveView[0x00400000+0x04] = 0x20; // 
	driveView[0x00400000+0x05] = 0x20; //
	driveView[0x00400000+0x06] = 0x20; //
	driveView[0x00400000+0x07] = 0x20; //
	driveView[0x00400000+0x08] = 0x54; // 3B extension
	driveView[0x00400000+0x09] = 0x58; // 
	driveView[0x00400000+0x0A] = 0x54; //
	driveView[0x00400000+0x0B] = 0xFF; // 1B attributes
	driveView[0x00400000+0x0C] = 0xFF; //
	driveView[0x00400000+0x0D] = 0xFF; // 1B 1st char of deleted file
	driveView[0x00400000+0x0E] = 0xFF; //
	driveView[0x00400000+0x0F] = 0xFF; //
	driveView[0x00400000+0x10] = 0xFF; //
	driveView[0x00400000+0x11] = 0xFF; //
	driveView[0x00400000+0x12] = 0xFF; //
	driveView[0x00400000+0x13] = 0xFF; //
	driveView[0x00400000+0x14] = 0x80; // 2B HO cluster no of data
	driveView[0x00400000+0x15] = 0x00; // 0x1000000+0x1000000+0x1000000+0x1000000+0x8000000=0xC000000
	driveView[0x00400000+0x16] = 0xFF; //
	driveView[0x00400000+0x17] = 0xFF; //
	driveView[0x00400000+0x18] = 0xFF; //
	driveView[0x00400000+0x19] = 0xFF; //
	driveView[0x00400000+0x1A] = 0x00; // 2B LO cluster no of data
	driveView[0x00400000+0x1B] = 0x00; //
	driveView[0x00400000+0x1C] = 0xFF; // 4B file size
	driveView[0x00400000+0x1D] = 0xFF; //
	driveView[0x00400000+0x1E] = 0xFF; //
	driveView[0x00400000+0x1F] = 0xFF; //
	
	driveView[0x00500000+0x00] = 0xFF; //
	driveView[0x00600000+0x00] = 0xFF; //
	driveView[0x00700000+0x00] = 0xFF; //
	driveView[0x00800000+0x00] = 0xFF; //
	driveView[0x00900000+0x00] = 0xFF; //
	driveView[0x00A00000+0x00] = 0xFF; //
	driveView[0x00B00000+0x00] = 0xFF; //
// data 128MB-12MB = 116MB
	driveView[0x00C00000+0x00] = 0x41; // data
	driveView[0x00C00000+0x01] = 0x42; // data
	driveView[0x00C00000+0x02] = 0x43; // data
	driveView[0x00C00000+0x03] = 0x44; // data
	driveView[0x00C00000+0x04] = 0x44; // data
	driveView[0x00C00000+0x05] = 0x46; // data
	driveView[0x00C00000+0x06] = 0x47; // data
	driveView[0x00C00000+0x07] = 0x48; // data
        
      // driveView[0x00C00000+0x08] = 0x42; // data
	
}
	
</script>
	
	
<script>
	
function fileViewer() { 
	for (let i=0; i<512; i++) { 
		var char = AscChar((driveView[dtab+i])-32);
		document.getElementById("div1").innerHTML += char ; 
	}
}
	
</script>
	
	
<script>
	
function fileManager() { 
	var j=0; var k=0;
	for (let i=0; i<512; i++) { 
		driveView[dtab+k+i]=dView[i]; 
	} 
	j++; k=clsz*j;
}
	
</script>
	
	
<script> 
	
function getMessage() { 
	msgIn = document.getElementById("inField").value; 
	for (let i=0; i<(msgIn.length); i++) { 
		dView[i]=msgIn.charCodeAt(i); 
	} 
	msgSt = true; 
}
	       
initSet();
function initSet() { 
	writeAsc(); 
	driveFormatter();
}
	
function initiate() { 
	getMessage();
	chatbot();
	fileManager();
	fileViewer();
} 
	
startAcn();
function startAcn() { 
	tmr1 = setInterval( function() { 
		document.getElementById("button1").addEventListener('click',initiate); 
	}, 0100);
}

	
</script>
	
	
<script>  

function download1() {
	
let link = document.createElement('a');  
link.download = 'hello.txt';  
let blob = new Blob(['Hello, world!'], {type: 'text/plain'});  
let reader = new FileReader();     
reader.onload = function() {  
  link.href = reader.result;
  link.click();
  document.body.removeChild(link);
};
reader.readAsDataURL(blob);
	
}
	
	
	function download2() {
	
                  var element = document.createElement('a');
                  element.setAttribute('href','data:text/plain; charset=utf-8, ' + encodeURIComponent('abc 123'));
                  element.setAttribute('download', 'abc.txt');
                  // link.setAttribute('download', 'image.jpg');
                  document.body.appendChild(element);
                  element.click();
                  document.body.removeChild(element);
	
	}

// download3();
function download3() {
  
    let canvasImage = document.getElementById('canvas2').toDataURL('image/png', 1.0);
    let imageUrl = "https://cdn.pixabay.com/photo/2017/06/05/07/58/butterfly-2373175_1280.png"
	
    // this can be used to download any image from webpage to local disk
    let xhr = new XMLHttpRequest();
    xhr.responseType = 'blob';
    xhr.onload = function () {
        let a = document.createElement('a');
        a.href = window.URL.createObjectURL(xhr.response);
        a.download = 'image.png';
        a.style.display = 'none';
        document.body.appendChild(a);
        a.click();
        a.remove();
      };
      // xhr.open('GET', canvasImage); // This is to download the canvas Image
      xhr.open('GET', 'imageUrl');
      xhr.send();
  
  }

</script>  
        
	
<script>
	
function download4() {
  
    let canvasImage = document.getElementById('canvas2').toDataURL('image/png', 1.0);
    
    // this can be used to download any image from webpage to local disk
    let xhr = new XMLHttpRequest();
    xhr.responseType = 'blob';
    xhr.onload = function () {
        let a = document.createElement('a');
        a.href = window.URL.createObjectURL(xhr.response);
        a.download = 'image.png';
        a.style.display = 'none';
        document.body.appendChild(a);
        a.click();
        a.remove();
      };
     xhr.open('GET', canvasImage); // This is to download the canvas Image
      xhr.send();
  
  }
	
</script>
<script>
</script>
</body>
</html>
